<form accept-charset="UTF-8" action="" class="edit_checkout animate-floating-labels" name="$ctrl.form" ng-submit="$ctrl.onApplyCoupon({ coupon: $ctrl.coupon })" novalidate="novalidate">
    <div class="fieldset">
        <div class="field" ng-class="{ 'field--show-floating-label': $ctrl.coupon.code, 'field--error': !$ctrl.coupon.appliedSuccessfully }">
            <div class="field__input-btn-wrapper">
                <div class="field__input-wrapper">
                    <label class="field__label" for="CouponCode">{{ 'checkout.coupon_code' | t }}</label>
                    <input class="field__input" id="CouponCode" name="CouponCode" placeholder="{{ 'checkout.coupon_code' | t }}" required="required" size="30" type="text" ng-model="$ctrl.coupon.code" ng-disabled="$ctrl.coupon.processing" />
                </div>
                <button class="field__input-btn btn btn--default" type="button" ng-click="$ctrl.applyCoupon($ctrl.coupon)" ng-class="{ 'btn--loading': $ctrl.coupon.processing, 'btn--disabled': $ctrl.form.$invalid }" ng-disabled="$ctrl.form.$invalid || $ctrl.coupon.processing">
                    <span class="btn__content visually-hidden-on-mobile">{{ 'checkout.apply' | t }}</span>
                    <i class="btn__content shown-on-mobile icon icon--arrow"></i>
                    <i class="btn__spinner icon icon--button-spinner"></i>
                </button>
            </div>
            <p class="field__message field__message--error" ng-if="!$ctrl.coupon.appliedSuccessfully">
                {{ 'checkout.invalid_coupon_code' | t }}
            </p>
        </div>
        <div class="field" ng-class="{ 'field--show-floating-label': coupon.code, 'field--error': !coupon.appliedSuccessfully  }" ng-repeat="coupon in $ctrl.coupons">
            <div class="field__input-btn-wrapper" style="align-items:center">
                <div class="field__input-wrapper">
                    <span ng-bind="coupon.code"></span>

                </div>
                <button class="field__input-btn btn btn--default" type="button" style="width:82px; padding:0; height:40px" ng-click="$ctrl.onRemoveCoupon({ coupon: coupon })" ng-class="{ 'btn--loading': coupon.processing }">
                    <span class="btn__content visually-hidden-on-mobile">{{ 'checkout.remove' | t }}</span>
                    <i class="btn__content shown-on-mobile icon icon--arrow"></i>
                    <i class="btn__spinner icon icon--button-spinner"></i>
                </button>
            </div>
            <p class="field__message" ng-if="coupon.appliedSuccessfully">{{ 'checkout.coupon_applied_sucessfuly' | t }}</p>
            <p class="field__message field__message--error" ng-if="!coupon.appliedSuccessfully">{{ 'checkout.invalid_coupon_code' | t }}</p>
        </div>
    </div>
</form>
